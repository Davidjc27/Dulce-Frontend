import{a as R,b as B,c as m,d as w,e as L,h as O,j as U,l as z,m as $,n as j,o as H,p as Q,q as J,s as K,t as W,v as X}from"./chunk-DRQFHDLW.js";import{a as S}from"./chunk-46XEFVVV.js";import{f as G}from"./chunk-YGPR4EP3.js";import{$ as k,Ba as N,Cb as P,Db as q,Fa as d,Fb as V,Gb as A,Ra as p,Sa as i,Ta as e,Ua as c,Va as E,W as C,Wa as _,X as b,Xa as I,Ya as x,Za as h,bb as T,cb as s,db as n,eb as u,fb as y,gb as D,jb as g,mb as f,nb as M,sa as r,wa as F}from"./chunk-3VNZBXZS.js";function ee(o,l){o&1&&(i(0,"p",81),n(1," El correo es obligatorio. "),e())}function te(o,l){o&1&&(i(0,"p",81),n(1," Ingresa un correo v\xE1lido. "),e())}function ie(o,l){o&1&&(i(0,"p",81),n(1," El celular es obligatorio. "),e())}function ne(o,l){o&1&&(i(0,"p",81),n(1," Usa solo n\xFAmeros (7 a 10 d\xEDgitos). "),e())}function oe(o,l){o&1&&(i(0,"p",81),n(1," Este campo es obligatorio. "),e())}function ae(o,l){if(o&1&&(i(0,"option",82),n(1),e()),o&2){let t=l.$implicit;p("value",t.value),r(),u(t.label)}}function re(o,l){o&1&&(i(0,"p",81),n(1," Ingresa tu documento. "),e())}function le(o,l){o&1&&(i(0,"p",81),n(1," La direcci\xF3n es obligatoria. "),e())}function pe(o,l){if(o&1&&(i(0,"option",82),n(1),e()),o&2){let t=l.$implicit;p("value",t),r(),u(t)}}function de(o,l){o&1&&(i(0,"p",81),n(1," Selecciona una ciudad. "),e())}function me(o,l){if(o&1&&(i(0,"option",82),n(1),e()),o&2){let t=l.$implicit;p("value",t),r(),y(" ",t," ")}}function ce(o,l){o&1&&(i(0,"p",81),n(1," Selecciona un departamento. "),e())}function se(o,l){o&1&&(i(0,"p",81),n(1," Ingresa el c\xF3digo postal. "),e())}function ue(o,l){if(o&1&&(i(0,"span",92),n(1),e()),o&2){let t=h().$implicit;r(),u(t.badge)}}function he(o,l){if(o&1&&(i(0,"label",83),c(1,"input",84),i(2,"div",85)(3,"div",86)(4,"span",87),n(5),e(),d(6,ue,2,1,"span",88),e(),i(7,"p",89),n(8),e(),i(9,"p",90),n(10),e(),i(11,"span",91),n(12),g(13,"currency"),e()()()),o&2){let t=l.$implicit,a=h();s("active",a.checkoutForm.controls.shippingMethod.value===t.id),r(),p("value",t.id),r(4),u(t.label),r(),p("ngIf",t.badge),r(2),u(t.eta),r(2),u(t.description),r(2),y(" ",t.cost?f(13,8,t.cost,"USD","symbol","1.0-0"):"Gratis"," ")}}function ve(o,l){if(o&1&&(i(0,"span",100),n(1),e()),o&2){let t=h().$implicit;r(),u(t.badge)}}function ye(o,l){if(o&1&&(i(0,"label",93),c(1,"input",94),i(2,"div",95)(3,"div",96)(4,"span"),n(5),e(),d(6,ve,2,1,"span",97),e(),i(7,"p",98),n(8),e(),i(9,"p",99),n(10),e()()()),o&2){let t=l.$implicit,a=h();s("active",a.checkoutForm.controls.paymentMethod.value===t.id),r(),p("value",t.id),r(4),u(t.label),r(),p("ngIf",t.badge),r(2),u(t.description),r(2),u(t.helper)}}function ge(o,l){o&1&&(i(0,"p",81),n(1," Ingresa el nombre del titular. "),e())}function fe(o,l){o&1&&(i(0,"p",81),n(1," El n\xFAmero de tarjeta es obligatorio. "),e())}function Ce(o,l){o&1&&(i(0,"p",81),n(1," Revisa el n\xFAmero ingresado. "),e())}function be(o,l){o&1&&(i(0,"p",81),n(1," Indica la fecha de vencimiento. "),e())}function Ee(o,l){o&1&&(i(0,"p",81),n(1," Usa el formato MM/AA. "),e())}function _e(o,l){o&1&&(i(0,"p",81),n(1," Ingresa el c\xF3digo de seguridad. "),e())}function xe(o,l){o&1&&(i(0,"p",81),n(1," Debe tener 3 o 4 d\xEDgitos. "),e())}function Se(o,l){if(o&1&&(i(0,"div",101)(1,"div",11)(2,"div",12)(3,"label",102),n(4,"Titular de la tarjeta"),e(),c(5,"input",103),d(6,ge,2,0,"p",15),e(),i(7,"div",12)(8,"label",104),n(9,"N\xFAmero de tarjeta"),e(),c(10,"input",105),d(11,fe,2,0,"p",15)(12,Ce,2,0,"p",15),e(),i(13,"div",21)(14,"div",12)(15,"label",106),n(16,"Vencimiento"),e(),c(17,"input",107),d(18,be,2,0,"p",15)(19,Ee,2,0,"p",15),e(),i(20,"div",12)(21,"label",108),n(22,"CVV"),e(),c(23,"input",109),d(24,_e,2,0,"p",15)(25,xe,2,0,"p",15),e()(),i(26,"label",51),c(27,"input",110),i(28,"span"),n(29,"Guardar mi tarjeta para futuras compras seguras"),e()()()()),o&2){let t=h();r(2),s("invalid",t.payment.controls.cardHolder.invalid&&(t.payment.controls.cardHolder.dirty||t.payment.controls.cardHolder.touched)),r(4),p("ngIf",t.payment.controls.cardHolder.hasError("required")&&(t.payment.controls.cardHolder.dirty||t.payment.controls.cardHolder.touched)),r(),s("invalid",t.payment.controls.cardNumber.invalid&&(t.payment.controls.cardNumber.dirty||t.payment.controls.cardNumber.touched)),r(4),p("ngIf",t.payment.controls.cardNumber.hasError("required")&&(t.payment.controls.cardNumber.dirty||t.payment.controls.cardNumber.touched)),r(),p("ngIf",t.payment.controls.cardNumber.hasError("pattern")&&(t.payment.controls.cardNumber.dirty||t.payment.controls.cardNumber.touched)),r(2),s("invalid",t.payment.controls.expiry.invalid&&(t.payment.controls.expiry.dirty||t.payment.controls.expiry.touched)),r(4),p("ngIf",t.payment.controls.expiry.hasError("required")&&(t.payment.controls.expiry.dirty||t.payment.controls.expiry.touched)),r(),p("ngIf",t.payment.controls.expiry.hasError("pattern")&&(t.payment.controls.expiry.dirty||t.payment.controls.expiry.touched)),r(),s("invalid",t.payment.controls.cvv.invalid&&(t.payment.controls.cvv.dirty||t.payment.controls.cvv.touched)),r(4),p("ngIf",t.payment.controls.cvv.hasError("required")&&(t.payment.controls.cvv.dirty||t.payment.controls.cvv.touched)),r(),p("ngIf",t.payment.controls.cvv.hasError("pattern")&&(t.payment.controls.cvv.dirty||t.payment.controls.cvv.touched))}}function Fe(o,l){if(o&1&&(i(0,"div",111)(1,"p"),n(2),e(),i(3,"p",112),n(4,"No cierres esta ventana para que podamos confirmar tu pago."),e()()),o&2){let t=l.ngIf;r(2),y(" Finalizaremos la compra y te llevaremos a ",t.label.toLowerCase()," para completar la transacci\xF3n. ")}}function Ie(o,l){o&1&&(i(0,"p",81),n(1," Ingresa la raz\xF3n social. "),e())}function ke(o,l){o&1&&(i(0,"p",81),n(1," Ingresa el NIT. "),e())}function Ne(o,l){o&1&&(i(0,"p",81),n(1," El correo es obligatorio. "),e())}function Te(o,l){o&1&&(i(0,"p",81),n(1," Ingresa un correo v\xE1lido. "),e())}function De(o,l){if(o&1&&(i(0,"div",11)(1,"div",12)(2,"label",113),n(3,"Raz\xF3n social"),e(),c(4,"input",114),d(5,Ie,2,0,"p",15),e(),i(6,"div",12)(7,"label",115),n(8,"NIT o identificaci\xF3n"),e(),c(9,"input",116),d(10,ke,2,0,"p",15),e(),i(11,"div",12)(12,"label",117),n(13,"Correo de facturaci\xF3n"),e(),c(14,"input",118),d(15,Ne,2,0,"p",15)(16,Te,2,0,"p",15),e()()),o&2){let t=h();r(),s("invalid",t.invoice.controls.businessName.invalid&&(t.invoice.controls.businessName.dirty||t.invoice.controls.businessName.touched)),r(4),p("ngIf",t.invoice.controls.businessName.hasError("required")&&(t.invoice.controls.businessName.dirty||t.invoice.controls.businessName.touched)),r(),s("invalid",t.invoice.controls.taxId.invalid&&(t.invoice.controls.taxId.dirty||t.invoice.controls.taxId.touched)),r(4),p("ngIf",t.invoice.controls.taxId.hasError("required")&&(t.invoice.controls.taxId.dirty||t.invoice.controls.taxId.touched)),r(),s("invalid",t.invoice.controls.email.invalid&&(t.invoice.controls.email.dirty||t.invoice.controls.email.touched)),r(4),p("ngIf",t.invoice.controls.email.hasError("required")&&(t.invoice.controls.email.dirty||t.invoice.controls.email.touched)),r(),p("ngIf",t.invoice.controls.email.hasError("email")&&(t.invoice.controls.email.dirty||t.invoice.controls.email.touched))}}function Me(o,l){o&1&&(i(0,"p",119),n(1," \xA1Gracias! Tu pago fue recibido. Te enviaremos un correo con la confirmaci\xF3n en los pr\xF3ximos minutos. "),e())}function Pe(o,l){o&1&&(i(0,"p",120),n(1," Revisa los campos resaltados para continuar con la compra. "),e())}function qe(o,l){if(o&1&&(E(0),n(1),_()),o&2){let t=h(2).$implicit;r(),u(t.color)}}function Ve(o,l){o&1&&(E(0),n(1," \u2022 "),_())}function Ae(o,l){if(o&1&&(E(0),n(1),_()),o&2){let t=h(2).$implicit;r(),y("Talla ",t.size)}}function Ge(o,l){if(o&1&&(i(0,"span",125),d(1,qe,2,1,"ng-container",127)(2,Ve,2,0,"ng-container",127)(3,Ae,2,1,"ng-container",127),e()),o&2){let t=h().$implicit;r(),p("ngIf",t.color),r(),p("ngIf",t.color&&t.size),r(),p("ngIf",t.size)}}function Re(o,l){if(o&1&&(i(0,"li",121)(1,"div",122)(2,"span",123),n(3),e(),d(4,Ge,4,3,"span",124),i(5,"span",125),n(6),e()(),i(7,"span",126),n(8),g(9,"currency"),e()()),o&2){let t=l.$implicit;r(3),u(t.name),r(),p("ngIf",t.color||t.size),r(2),D("",t.quantity," unidad",t.quantity>1?"es":""),r(2),y(" ",f(9,5,t.price*t.quantity,"USD","symbol","1.0-0")," ")}}function Be(o,l){if(o&1&&(i(0,"div",128)(1,"span"),n(2),e(),i(3,"span"),n(4),g(5,"currency"),e()()),o&2){let t=h();r(2),y("Descuento ",t.discountLabel),r(2),y("-",f(5,2,t.discountAmount,"USD","symbol","1.0-0"))}}function we(o,l){if(o&1&&(i(0,"div",129)(1,"h3"),n(2,"Entrega estimada"),e(),i(3,"p"),n(4),e(),i(5,"p",130),n(6),e()()),o&2){let t=l.ngIf;r(4),u(t.eta),r(2),u(t.description)}}function Le(o,l){if(o&1&&(i(0,"p",131),n(1),e()),o&2){let t=h();s("error",t.discountFeedback.type==="error"),r(),y(" ",t.discountFeedback.message," ")}}function Oe(o,l){if(o&1){let t=I();i(0,"button",132),x("click",function(){C(t);let v=h();return b(v.clearDiscount())}),n(1," Quitar descuento "),e()}}function Ue(o,l){if(o&1&&(i(0,"p"),n(1),g(2,"currency"),e()),o&2){let t=h();r(),y(" Env\xEDo gratis a partir de 120 USD. Te faltan ",f(2,1,120-t.subtotal,"USD","symbol","1.0-0"),". ")}}function ze(o,l){o&1&&(i(0,"p"),n(1,"\xA1Felicidades! Tu pedido aplica para env\xEDo gratuito."),e())}var Y=class o{constructor(l,t){this.fb=l;this.destroyRef=t;this.contact=this.fb.nonNullable.group({email:["",[m.required,m.email]],phone:["",[m.required,m.pattern(this.phonePattern)]]}),this.shipping=this.fb.nonNullable.group({fullName:["",[m.required,m.minLength(3)]],documentType:["CC",m.required],documentNumber:["",[m.required,m.minLength(6)]],address:["",m.required],apartment:[""],city:["",m.required],department:["",m.required],postalCode:["",m.required],notes:[""]}),this.payment=this.fb.nonNullable.group({cardHolder:["",m.required],cardNumber:["",[m.required,m.pattern(this.cardNumberPattern)]],expiry:["",[m.required,m.pattern(this.expiryPattern)]],cvv:["",[m.required,m.pattern(this.cvvPattern)]],saveCard:[!0]}),this.invoice=this.fb.nonNullable.group({needInvoice:[!1],businessName:[""],taxId:[""],email:[""]}),this.checkoutForm=this.fb.nonNullable.group({contact:this.contact,shipping:this.shipping,shippingMethod:["standard",m.required],paymentMethod:["card",m.required],payment:this.payment,invoice:this.invoice,discountCode:[""],acceptTerms:[!1,m.requiredTrue]}),this.invoice.controls.needInvoice.valueChanges.pipe(S(this.destroyRef)).subscribe(a=>this.updateInvoiceValidators(a)),this.checkoutForm.controls.paymentMethod.valueChanges.pipe(S(this.destroyRef)).subscribe(a=>this.updatePaymentState(a)),this.checkoutForm.controls.discountCode.valueChanges.pipe(S(this.destroyRef)).subscribe(()=>{this.discountFeedback?.type==="error"&&(this.discountFeedback=null)})}phonePattern=/^[0-9]{7,10}$/;cardNumberPattern=/^[0-9]{13,19}$/;expiryPattern=/^(0[1-9]|1[0-2])\/\d{2}$/;cvvPattern=/^[0-9]{3,4}$/;taxRate=.19;invoiceBusinessValidators=[m.required,m.minLength(3)];invoiceTaxValidators=[m.required,m.minLength(5)];invoiceEmailValidators=[m.required,m.email];documentTypes=[{value:"CC",label:"C\xE9dula de ciudadan\xEDa"},{value:"CE",label:"C\xE9dula de extranjer\xEDa"},{value:"NIT",label:"NIT"},{value:"PA",label:"Pasaporte"}];departmentOptions=["Cundinamarca","Antioquia","Valle del Cauca","Atl\xE1ntico","Santander","Bol\xEDvar"];cityOptions=["Bogot\xE1","Medell\xEDn","Cali","Barranquilla","Bucaramanga","Cartagena"];shippingMethods=[{id:"standard",label:"Env\xEDo est\xE1ndar",description:"Ideal para compras planificadas. Operamos con aliados log\xEDsticos nacionales.",eta:"Entrega estimada en 3 a 5 d\xEDas h\xE1biles",cost:7.9},{id:"express",label:"Env\xEDo express",description:"Recibe prioridad en despacho y seguimiento en tiempo real.",eta:"Entrega estimada en 24 a 48 horas",cost:14.5,badge:"Recomendado"},{id:"pickup",label:"Recoger en tienda Dulce",description:"Disponible en nuestras principales tiendas. Te avisaremos cuando est\xE9 listo.",eta:"Retiro disponible en 2 a 3 d\xEDas h\xE1biles",cost:0,badge:"Sin costo"}];paymentMethods=[{id:"card",label:"Tarjeta de cr\xE9dito o d\xE9bito",description:"Visa, Mastercard, American Express y d\xE9bito nacional.",helper:"Pago inmediato con validaci\xF3n 3D Secure",badge:"M\xE1s usado"},{id:"pse",label:"Transferencia segura (PSE)",description:"Conecta con tu banco sin salir del checkout.",helper:"Ser\xE1s redirigido a la pasarela bancaria"},{id:"wallet",label:"Billeteras digitales",description:"Nequi, Daviplata y otras billeteras autorizadas.",helper:"Confirmaci\xF3n en tiempo real"}];orderItems=[{id:"satin-top",name:"Top satinado lavanda",quantity:1,price:48,color:"Lavanda",size:"M"},{id:"wide-leg",name:"Pantal\xF3n wide leg arena",quantity:1,price:62,color:"Arena c\xE1lido",size:"6"}];checkoutForm;contact;shipping;payment;invoice;appliedDiscount=0;discountLabel="";discountFeedback=null;isSubmitting=!1;submissionState="idle";get selectedShippingMethod(){let l=this.checkoutForm.controls.shippingMethod.value;return this.shippingMethods.find(t=>t.id===l)}get selectedPaymentMethod(){let l=this.checkoutForm.controls.paymentMethod.value;return this.paymentMethods.find(t=>t.id===l)}get subtotal(){return this.roundCurrency(this.orderItems.reduce((l,t)=>l+t.price*t.quantity,0))}get discountAmount(){return this.roundCurrency(Math.max(this.subtotal*this.appliedDiscount,0))}get taxable(){return this.roundCurrency(Math.max(this.subtotal-this.discountAmount,0))}get taxes(){return this.roundCurrency(this.taxable*this.taxRate)}get shippingCost(){return this.roundCurrency(this.selectedShippingMethod?.cost??0)}get total(){return this.roundCurrency(this.taxable+this.taxes+this.shippingCost)}get isCardSelected(){return this.checkoutForm.controls.paymentMethod.value==="card"}applyDiscount(){let l=this.checkoutForm.controls.discountCode,t=l.value.trim().toUpperCase();if(!t){this.discountFeedback={type:"error",message:"Ingresa un c\xF3digo v\xE1lido."};return}if(t==="DULCE10"){this.appliedDiscount=.1,this.discountLabel="DULCE10",this.discountFeedback={type:"success",message:"\xA1Listo! Aplicamos un 10% de descuento a tu pedido."},l.reset("",{emitEvent:!1});return}this.discountFeedback={type:"error",message:"El c\xF3digo ingresado no es v\xE1lido o ya fue utilizado."}}clearDiscount(){this.appliedDiscount=0,this.discountLabel="",this.discountFeedback=null}submitCheckout(){if(this.checkoutForm.invalid){this.checkoutForm.markAllAsTouched(),this.submissionState="error";return}this.isSubmitting=!0,this.submissionState="idle",setTimeout(()=>{this.isSubmitting=!1,this.submissionState="success"},1200)}updateInvoiceValidators(l){let{businessName:t,taxId:a,email:v}=this.invoice.controls;l?(t.addValidators(this.invoiceBusinessValidators),a.addValidators(this.invoiceTaxValidators),v.addValidators(this.invoiceEmailValidators)):(t.removeValidators(this.invoiceBusinessValidators),a.removeValidators(this.invoiceTaxValidators),v.removeValidators(this.invoiceEmailValidators),t.reset("",{emitEvent:!1}),a.reset("",{emitEvent:!1}),v.reset("",{emitEvent:!1})),t.updateValueAndValidity({emitEvent:!1}),a.updateValueAndValidity({emitEvent:!1}),v.updateValueAndValidity({emitEvent:!1})}updatePaymentState(l){if(l==="card"){this.payment.enable({emitEvent:!1}),this.payment.controls.cardHolder.value||this.payment.controls.saveCard.setValue(!0,{emitEvent:!1});return}this.payment.disable({emitEvent:!1}),this.payment.patchValue({cardHolder:"",cardNumber:"",expiry:"",cvv:"",saveCard:!1},{emitEvent:!1})}roundCurrency(l){return Math.round(l*100)/100}static \u0275fac=function(t){return new(t||o)(F(W),F(k))};static \u0275cmp=N({type:o,selectors:[["app-checkout-form"]],decls:200,vars:75,consts:[["freeShippingMessage",""],[1,"checkout-page"],[1,"checkout-header"],["aria-label","Progreso de compra",1,"checkout-progress"],[1,"completed"],["aria-hidden","true",1,"step-index"],[1,"current"],["autocomplete","on","novalidate","",1,"checkout-layout",3,"ngSubmit","formGroup"],[1,"form-column"],["formGroupName","contact",1,"form-block"],[1,"block-header"],[1,"field-grid"],[1,"field"],["for","checkout-email"],["id","checkout-email","type","email","formControlName","email","placeholder","tu@correo.com","autocomplete","email"],["class","field-error",4,"ngIf"],["for","checkout-phone"],["id","checkout-phone","type","tel","formControlName","phone","placeholder","3001234567","autocomplete","tel","inputmode","numeric"],["formGroupName","shipping",1,"form-block"],["for","shipping-name"],["id","shipping-name","type","text","formControlName","fullName","placeholder","Nombre completo","autocomplete","name"],[1,"field-row"],[1,"field","select"],["for","shipping-document-type"],["id","shipping-document-type","formControlName","documentType"],[3,"value",4,"ngFor","ngForOf"],["for","shipping-document-number"],["id","shipping-document-number","type","text","formControlName","documentNumber","placeholder","1234567890","autocomplete","off"],["for","shipping-address"],["id","shipping-address","type","text","formControlName","address","placeholder","Calle 123 #45-67","autocomplete","street-address"],["for","shipping-apartment"],["id","shipping-apartment","type","text","formControlName","apartment","placeholder","Apartamento, torre, interior (opcional)"],["for","shipping-city"],["id","shipping-city","formControlName","city"],["value","","disabled",""],["for","shipping-department"],["id","shipping-department","formControlName","department"],["for","shipping-postal-code"],["id","shipping-postal-code","type","text","formControlName","postalCode","placeholder","110111","autocomplete","postal-code"],[1,"field","textarea"],["for","shipping-notes"],["id","shipping-notes","rows","3","formControlName","notes","placeholder","Indica si el ingreso al conjunto requiere autorizaci\xF3n previa"],[1,"form-block"],["role","radiogroup","aria-label","Selecciona un m\xE9todo de env\xEDo",1,"shipping-options"],["class","shipping-option",3,"active",4,"ngFor","ngForOf"],[1,"form-block","payment"],["role","radiogroup","aria-label","M\xE9todo de pago",1,"payment-options"],["class","payment-option",3,"active",4,"ngFor","ngForOf"],["class","card-form","formGroupName","payment",4,"ngIf"],["class","payment-hint",4,"ngIf"],["formGroupName","invoice",1,"form-block"],[1,"checkbox-field"],["type","checkbox","formControlName","needInvoice"],["class","field-grid",4,"ngIf"],[1,"form-actions"],[1,"checkbox-field","terms"],["type","checkbox","formControlName","acceptTerms"],["routerLink","/terminos-y-condiciones"],["routerLink","/privacidad"],["type","submit",1,"submit",3,"disabled"],[1,"secure-note"],["aria-hidden","true"],["class","submission-message success",4,"ngIf"],["class","submission-message error",4,"ngIf"],["aria-label","Resumen del pedido",1,"summary-card"],[1,"summary-items"],["class","summary-item",4,"ngFor","ngForOf"],[1,"summary-row"],["class","summary-row discount",4,"ngIf"],[1,"summary-row","total"],["class","delivery-estimate",4,"ngIf"],[1,"discount-form"],["for","checkout-discount"],[1,"discount-input"],["id","checkout-discount","type","text","formControlName","discountCode","placeholder","DULCE10","autocomplete","off"],["type","button",3,"click"],["class","discount-feedback",3,"error",4,"ngIf"],["type","button","class","discount-clear",3,"click",4,"ngIf"],[1,"summary-extra"],[4,"ngIf","ngIfElse"],["routerLink","/preguntas-frecuentes"],[1,"field-error"],[3,"value"],[1,"shipping-option"],["type","radio","formControlName","shippingMethod",3,"value"],[1,"shipping-option-card"],[1,"option-header"],[1,"option-title"],["class","option-badge",4,"ngIf"],[1,"option-eta"],[1,"option-description"],[1,"option-price"],[1,"option-badge"],[1,"payment-option"],["type","radio","formControlName","paymentMethod",3,"value"],[1,"payment-option-card"],[1,"payment-title"],["class","payment-badge",4,"ngIf"],[1,"payment-description"],[1,"payment-helper"],[1,"payment-badge"],["formGroupName","payment",1,"card-form"],["for","payment-card-holder"],["id","payment-card-holder","type","text","formControlName","cardHolder","placeholder","Como aparece en la tarjeta","autocomplete","cc-name"],["for","payment-card-number"],["id","payment-card-number","type","text","formControlName","cardNumber","placeholder","0000 0000 0000 0000","autocomplete","cc-number","inputmode","numeric"],["for","payment-expiry"],["id","payment-expiry","type","text","formControlName","expiry","placeholder","MM/AA","autocomplete","cc-exp","inputmode","numeric"],["for","payment-cvv"],["id","payment-cvv","type","password","formControlName","cvv","placeholder","123","autocomplete","cc-csc","inputmode","numeric","maxlength","4"],["type","checkbox","formControlName","saveCard"],[1,"payment-hint"],[1,"hint-subtitle"],["for","invoice-business"],["id","invoice-business","type","text","formControlName","businessName","placeholder","Nombre de la empresa"],["for","invoice-tax-id"],["id","invoice-tax-id","type","text","formControlName","taxId","placeholder","900000000"],["for","invoice-email"],["id","invoice-email","type","email","formControlName","email","placeholder","facturacion@empresa.com"],[1,"submission-message","success"],[1,"submission-message","error"],[1,"summary-item"],[1,"item-info"],[1,"item-name"],["class","item-meta",4,"ngIf"],[1,"item-meta"],[1,"item-price"],[4,"ngIf"],[1,"summary-row","discount"],[1,"delivery-estimate"],[1,"delivery-note"],[1,"discount-feedback"],["type","button",1,"discount-clear",3,"click"]],template:function(t,a){if(t&1){let v=I();i(0,"section",1)(1,"header",2)(2,"nav",3)(3,"ol")(4,"li",4)(5,"span",5),n(6,"1"),e(),i(7,"span"),n(8,"Carrito"),e()(),i(9,"li",6)(10,"span",5),n(11,"2"),e(),i(12,"span"),n(13,"Checkout"),e()(),i(14,"li")(15,"span",5),n(16,"3"),e(),i(17,"span"),n(18,"Confirmaci\xF3n"),e()()()(),i(19,"h1"),n(20,"Finaliza tu compra"),e(),i(21,"p"),n(22," Ingresa tus datos y selecciona tu medio de pago favorito. Protegemos cada transacci\xF3n con encriptaci\xF3n de grado bancario. "),e()(),i(23,"form",7),x("ngSubmit",function(){return C(v),b(a.submitCheckout())}),i(24,"div",8)(25,"section",9)(26,"div",10)(27,"h2"),n(28,"Datos de contacto"),e(),i(29,"p"),n(30,"Te enviaremos la confirmaci\xF3n y novedades de tu pedido."),e()(),i(31,"div",11)(32,"div",12)(33,"label",13),n(34,"Correo electr\xF3nico"),e(),c(35,"input",14),d(36,ee,2,0,"p",15)(37,te,2,0,"p",15),e(),i(38,"div",12)(39,"label",16),n(40,"Celular"),e(),c(41,"input",17),d(42,ie,2,0,"p",15)(43,ne,2,0,"p",15),e()()(),i(44,"section",18)(45,"div",10)(46,"h2"),n(47,"Direcci\xF3n de env\xEDo"),e(),i(48,"p"),n(49,"Utiliza una direcci\xF3n donde puedas recibir tu pedido sin contratiempos."),e()(),i(50,"div",11)(51,"div",12)(52,"label",19),n(53,"Nombre y apellidos"),e(),c(54,"input",20),d(55,oe,2,0,"p",15),e(),i(56,"div",21)(57,"div",22)(58,"label",23),n(59,"Tipo de documento"),e(),i(60,"select",24),d(61,ae,2,2,"option",25),e()(),i(62,"div",12)(63,"label",26),n(64,"N\xFAmero de documento"),e(),c(65,"input",27),d(66,re,2,0,"p",15),e()(),i(67,"div",12)(68,"label",28),n(69,"Direcci\xF3n"),e(),c(70,"input",29),d(71,le,2,0,"p",15),e(),i(72,"div",12)(73,"label",30),n(74,"Complemento"),e(),c(75,"input",31),e(),i(76,"div",21)(77,"div",22)(78,"label",32),n(79,"Ciudad"),e(),i(80,"select",33)(81,"option",34),n(82,"Selecciona una ciudad"),e(),d(83,pe,2,2,"option",25),e(),d(84,de,2,0,"p",15),e(),i(85,"div",22)(86,"label",35),n(87,"Departamento"),e(),i(88,"select",36)(89,"option",34),n(90,"Selecciona un departamento"),e(),d(91,me,2,2,"option",25),e(),d(92,ce,2,0,"p",15),e()(),i(93,"div",12)(94,"label",37),n(95,"C\xF3digo postal"),e(),c(96,"input",38),d(97,se,2,0,"p",15),e(),i(98,"div",39)(99,"label",40),n(100,"Notas para el env\xEDo"),e(),c(101,"textarea",41),e()()(),i(102,"section",42)(103,"div",10)(104,"h2"),n(105,"M\xE9todo de env\xEDo"),e(),i(106,"p"),n(107,"Escoge la alternativa que mejor se ajuste a tu ritmo."),e()(),i(108,"div",43),d(109,he,14,13,"label",44),e()(),i(110,"section",45)(111,"div",10)(112,"h2"),n(113,"M\xE9todo de pago"),e(),i(114,"p"),n(115,"Selecciona c\xF3mo prefieres completar tu compra."),e()(),i(116,"div",46),d(117,ye,11,7,"label",47),e(),d(118,Se,30,15,"div",48)(119,Fe,5,1,"div",49),e(),i(120,"section",50)(121,"div",10)(122,"h2"),n(123,"Factura electr\xF3nica"),e(),i(124,"p"),n(125,"Si la necesitas a nombre de una empresa, activa la opci\xF3n a continuaci\xF3n."),e()(),i(126,"label",51),c(127,"input",52),i(128,"span"),n(129,"Requiero factura a nombre de una empresa"),e()(),d(130,De,17,10,"div",53),e(),i(131,"div",54)(132,"label",55),c(133,"input",56),i(134,"span"),n(135," Acepto la "),i(136,"a",57),n(137,"pol\xEDtica de t\xE9rminos y condiciones"),e(),n(138," y el "),i(139,"a",58),n(140,"tratamiento de datos personales"),e(),n(141,". "),e()(),i(142,"button",59),n(143),g(144,"currency"),e(),i(145,"p",60)(146,"span",61),n(147,"\u{1F512}"),e(),n(148," Pago seguro con est\xE1ndares PCI DSS y cifrado TLS 1.2. "),e(),d(149,Me,2,0,"p",62)(150,Pe,2,0,"p",63),e()(),i(151,"aside",64)(152,"h2"),n(153,"Resumen"),e(),i(154,"ul",65),d(155,Re,10,10,"li",66),e(),i(156,"div",67)(157,"span"),n(158,"Subtotal"),e(),i(159,"span"),n(160),g(161,"currency"),e()(),d(162,Be,6,7,"div",68),i(163,"div",67)(164,"span"),n(165,"Env\xEDo"),e(),i(166,"span"),n(167),g(168,"currency"),e()(),i(169,"div",67)(170,"span"),n(171,"Impuestos estimados"),e(),i(172,"span"),n(173),g(174,"currency"),e()(),i(175,"div",69)(176,"span"),n(177,"Total a pagar"),e(),i(178,"span"),n(179),g(180,"currency"),e()(),d(181,we,7,2,"div",70),i(182,"div",71)(183,"label",72),n(184,"\xBFTienes un c\xF3digo de descuento?"),e(),i(185,"div",73),c(186,"input",74),i(187,"button",75),x("click",function(){return C(v),b(a.applyDiscount())}),n(188,"Aplicar"),e()(),d(189,Le,2,3,"p",76)(190,Oe,2,0,"button",77),e(),i(191,"div",78),d(192,Ue,3,6,"p",79)(193,ze,2,0,"ng-template",null,0,M),i(195,"p"),n(196," \xBFNecesitas ayuda? Visita nuestras "),i(197,"a",80),n(198,"preguntas frecuentes"),e(),n(199," o cont\xE1ctanos. "),e()()()()()}if(t&2){let v=T(194);r(23),p("formGroup",a.checkoutForm),r(9),s("invalid",a.contact.controls.email.invalid&&(a.contact.controls.email.dirty||a.contact.controls.email.touched)),r(4),p("ngIf",a.contact.controls.email.hasError("required")&&(a.contact.controls.email.dirty||a.contact.controls.email.touched)),r(),p("ngIf",a.contact.controls.email.hasError("email")&&(a.contact.controls.email.dirty||a.contact.controls.email.touched)),r(),s("invalid",a.contact.controls.phone.invalid&&(a.contact.controls.phone.dirty||a.contact.controls.phone.touched)),r(4),p("ngIf",a.contact.controls.phone.hasError("required")&&(a.contact.controls.phone.dirty||a.contact.controls.phone.touched)),r(),p("ngIf",a.contact.controls.phone.hasError("pattern")&&(a.contact.controls.phone.dirty||a.contact.controls.phone.touched)),r(8),s("invalid",a.shipping.controls.fullName.invalid&&(a.shipping.controls.fullName.dirty||a.shipping.controls.fullName.touched)),r(4),p("ngIf",a.shipping.controls.fullName.hasError("required")&&(a.shipping.controls.fullName.dirty||a.shipping.controls.fullName.touched)),r(6),p("ngForOf",a.documentTypes),r(),s("invalid",a.shipping.controls.documentNumber.invalid&&(a.shipping.controls.documentNumber.dirty||a.shipping.controls.documentNumber.touched)),r(4),p("ngIf",a.shipping.controls.documentNumber.hasError("required")&&(a.shipping.controls.documentNumber.dirty||a.shipping.controls.documentNumber.touched)),r(),s("invalid",a.shipping.controls.address.invalid&&(a.shipping.controls.address.dirty||a.shipping.controls.address.touched)),r(4),p("ngIf",a.shipping.controls.address.hasError("required")&&(a.shipping.controls.address.dirty||a.shipping.controls.address.touched)),r(6),s("invalid",a.shipping.controls.city.invalid&&(a.shipping.controls.city.dirty||a.shipping.controls.city.touched)),r(6),p("ngForOf",a.cityOptions),r(),p("ngIf",a.shipping.controls.city.hasError("required")&&(a.shipping.controls.city.dirty||a.shipping.controls.city.touched)),r(),s("invalid",a.shipping.controls.department.invalid&&(a.shipping.controls.department.dirty||a.shipping.controls.department.touched)),r(6),p("ngForOf",a.departmentOptions),r(),p("ngIf",a.shipping.controls.department.hasError("required")&&(a.shipping.controls.department.dirty||a.shipping.controls.department.touched)),r(),s("invalid",a.shipping.controls.postalCode.invalid&&(a.shipping.controls.postalCode.dirty||a.shipping.controls.postalCode.touched)),r(4),p("ngIf",a.shipping.controls.postalCode.hasError("required")&&(a.shipping.controls.postalCode.dirty||a.shipping.controls.postalCode.touched)),r(12),p("ngForOf",a.shippingMethods),r(8),p("ngForOf",a.paymentMethods),r(),p("ngIf",a.isCardSelected),r(),p("ngIf",!a.isCardSelected&&a.selectedPaymentMethod),r(11),p("ngIf",a.invoice.controls.needInvoice.value),r(12),p("disabled",a.checkoutForm.invalid||a.isSubmitting),r(),y(" ",a.isSubmitting?"Procesando pago\u2026":"Pagar "+f(144,50,a.total,"USD","symbol","1.0-0")," "),r(6),p("ngIf",a.submissionState==="success"),r(),p("ngIf",a.submissionState==="error"),r(5),p("ngForOf",a.orderItems),r(5),u(f(161,55,a.subtotal,"USD","symbol","1.0-0")),r(2),p("ngIf",a.discountAmount),r(5),u(a.shippingCost?f(168,60,a.shippingCost,"USD","symbol","1.0-0"):"Gratis"),r(6),u(f(174,65,a.taxes,"USD","symbol","1.0-0")),r(6),u(f(180,70,a.total,"USD","symbol","1.0-0")),r(2),p("ngIf",a.selectedShippingMethod),r(8),p("ngIf",a.discountFeedback),r(),p("ngIf",a.appliedDiscount),r(2),p("ngIf",a.subtotal<120)("ngIfElse",v)}},dependencies:[A,P,q,X,O,Q,J,B,R,H,U,w,L,K,z,j,$,G,V],encapsulation:2})};export{Y as CheckoutFormComponent};
